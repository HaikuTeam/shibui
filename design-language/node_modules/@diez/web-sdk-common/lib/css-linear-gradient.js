"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=require("@diez/framework-core"),r=require("./css-color"),e=t=>Math.sqrt(t.x*t.x+t.y*t.y),n=(t,r)=>({x:t.x-r.x,y:t.y-r.y}),o=(t,r)=>t.x*r.x+t.y*r.y,s=(t,r,e)=>{const s=((t,r,e)=>{const s=n(t,r),a=n(t,e),i=o(s,a),x=((t,r)=>t.x*r.y-t.y*r.x)(s,a);return Math.atan2(x,i)})(t,r,e);return Math.abs(s)<Math.PI/2},a=(t,r)=>{return(t=>{const r=e(t);return{x:t.x/r,y:t.y/r}})(n(r,t))},i=(r,i)=>{const x=t.cssLinearGradientLength(r),c={x:.5,y:.5},y=t.linearGradientStartAndEndPoints(r,x,c),d=exports.convertPoint(y.start),u=exports.convertPoint(y.end),h=((t,r,e)=>{const s=n(e,t),a=o(s,r);return{x:t.x+r.x*a,y:t.y+r.y*a}})(c,a(d,u),i),p=n(d,h);let l=e(p);return s(d,u,h)||(l*=-1),l/x};exports.convertPoint=(t=>({x:t.x,y:1-t.y})),exports.linearGradientToCss=(o=>{if(0===o.stops.length)return"linear-gradient(none)";const s=exports.convertPoint(o.start),a=exports.convertPoint(o.end),x=n(a,s),c=Math.atan2(x.y,x.x),y=(t=>-t+Math.PI/2)(c),d=t.cssLinearGradientLength(c),u=i(y,s),h=e(x),p=o.stops.map(t=>{const e=u+t.position*h/d,n=Math.round(100*e);return`${r.colorToCss(t.color)} ${n}%`});return`linear-gradient(${Math.round(180*y/Math.PI)}deg, ${p.join(", ")})`});
//# sourceMappingURL=/@diez/web-sdk-common/lib/css-linear-gradient.js.map
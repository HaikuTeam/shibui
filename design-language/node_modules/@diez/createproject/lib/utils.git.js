"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const i=require("@diez/cli-core"),t=require("fs-extra"),e=require("path");exports.initializeGitRepository=(async r=>{if(!await(()=>i.canRunCommand("git --version"))())throw new Error("Git not found.");if(await(async t=>{try{return await i.execAsync("git rev-parse --is-inside-work-tree",{cwd:t}),!0}catch(i){return!1}})(r))throw new Error("The provided directory is already in a Git repository.");const a={cwd:r};try{await i.execAsync("git init",a)}catch(i){throw new Error("Failed to initialize the Git repository.")}try{await i.execAsync("git add .",a),await i.execAsync('git commit -m "Initial commit."',a)}catch(i){throw await t.remove(e.join(r,".git")),new Error("Failed to create initial commit.")}});
//# sourceMappingURL=/@diez/createproject/lib/utils.git.js.map
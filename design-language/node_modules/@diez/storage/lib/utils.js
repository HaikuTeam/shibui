"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const r=require("fs-extra"),i=require("handlebars"),t=require("istextorbinary"),n=e(require("klaw")),o=e(require("node-fetch")),a=require("os"),s=require("path"),u=require("uuid");exports.outputTemplatePackage=(async(e,o,a,u=new Set)=>new Promise((l,c)=>n.default(e,{preserveSymlinks:!0}).on("data",({stats:n,path:l})=>{const c=s.relative(e,l);if(!n.isFile()&&!n.isSymbolicLink()||u.has(c))return;const d=s.join(o,i.compile(c)(a));r.ensureDirSync(s.dirname(d)),n.isSymbolicLink()?r.symlinkSync(i.compile(r.readlinkSync(l))(a),d):t.isBinarySync(l)?r.copySync(l,d):r.writeFileSync(d,i.compile(r.readFileSync(l).toString())(a),{mode:n.mode})}).on("end",l).on("error",c))),exports.getTempFileName=(()=>s.join(a.tmpdir(),u.v4())),exports.downloadStream=(async e=>{return(await o.default(e)).body});
//# sourceMappingURL=/@diez/storage/lib/utils.js.map